[{"title":"PageRankå­¦ä¹ ç¬”è®°","url":"/2020/11/01/la-assignment/","content":"\n  å‡ºäºçº¿æ€§ä»£æ•°Assignmentçš„éœ€è¦ï¼Œå­¦ä¹ äº†ç½‘é¡µæœç´¢é¢†åŸŸå¾ˆæœ‰åçš„PageRankç®—æ³•ï¼Œå†³å®šåœ¨è¿™é‡Œè®°å½•ä¸‹ä¸€äº›ç¬”è®°\n\nç®€ä»‹PageRankç®€ç§°PRï¼ŒGoogleåˆ›å§‹äººæ‹‰é‡Œä½©å¥‡åœ¨æå‡ºæ­¤ç®—æ³•ååˆ›å»ºäº†Googleæœç´¢å¼•æ“ï¼Œå…¶å¯ä»¥ä¸ºç½‘é¡µæ‰“åˆ†ä»¥å†³å®šç½‘é¡µçš„æ’åºï¼Œè™½ç„¶æœç´¢å¼•æ“å¯¹äºç½‘é¡µçš„æ’åºè¿˜ç”±å…¶ä»–ä¸€äº›å› ç´ å½±å“ï¼ˆæ¯”å¦‚æŸåº¦æ ¹æ®å°±ç»™çš„ğŸ’¸æœ‰å…³ï¼‰ï¼Œä½†PageRankç®—æ³•æä¾›äº†ä¸€ä¸ªå¾ˆé‡è¦çš„åˆ¤æ–­æ ‡å‡†ã€‚\n\n  ä¹Ÿæœ‰äººè¯´PageRankç®—æ³•æ˜¯ç”±åˆ›å§‹äººæ‹‰é‡Œä½©å¥‡ï¼ˆLarry Pageï¼‰çš„åå­—å‘½åçš„\n\nPageRankçš„æ ¸å¿ƒåŸç†åŸºäºä¸€ä¸ªé‡è¦çš„å‡è®¾ï¼šä¸€ä¸ªé‡è¦çš„ç½‘ç«™å¾€å¾€ä¼šè¢«å¾ˆå¤šçš„ç½‘ç«™æ‰€å¼•ç”¨ï¼ˆæŒ‡å‘ï¼‰\nåŸºäºè¿™ä¸ªå‡è®¾ï¼Œå¦‚æœä¸€ä¸ªç½‘ç«™è¢«å¾ˆå¤šç½‘ç«™æŒ‡å‘ï¼Œæˆ–è€…æ˜¯è¢«æœ¬èº«â€œæƒå€¼â€æ¯”è¾ƒé«˜çš„ç½‘ç«™æ‰€æŒ‡å‘ï¼Œé‚£ä¹ˆè¿™ä¸ªç½‘ç«™ä¹Ÿæ˜¯ä¸€ä¸ªè¾ƒä¸ºé‡è¦çš„ç½‘ç«™\nä¸€ä¸ªå°çš„ä¾‹å­æ ¸å¿ƒçš„æ€æƒ³ä¸å¤ªéš¾ï¼Œæˆ‘ä»¬ç›´æ¥ä»ä¸€ä¸ªå°çš„ä¾‹å­è¯´èµ·ã€‚\nç°åœ¨æœ‰å››ä¸ªç½‘ç«™ï¼ŒA B C Dï¼Œæˆ‘ä»¬å°†å››ä¸ªç½‘ç«™æŠ½è±¡ä¸ºå›¾ä¸­çš„çš„å››ä¸ªèŠ‚ç‚¹ï¼ˆNodeï¼‰ï¼Œå¹¶ä¸”å°†ä¸€ä¸ªç½‘ç«™æŒ‡å‘å¦ä¸€ä¸ªç½‘ç«™çš„é“¾æ¥æŠ½è±¡ä¸ºä¸€æ¡è¾¹ï¼ˆEdgeï¼‰ï¼Œäºæ˜¯ä¸€ä¸ªå›¾è¯ç”Ÿäº†\nï¼ˆç›´æ¥ç”¨çš„ä½œä¸šé‡Œé¢ç”»çš„å›¾ï¼Œå­—æ¯å’Œæ•°å­—ä¸€ä¸€å¯¹åº”ï¼‰\n\næ¯ä¸ªç½‘ç«™æœ‰ä¸€ä¸ªæœ€åˆçš„PageRankå€¼ï¼Œåœ¨æœ€åˆçš„ç®—æ³•ä¸­ï¼Œè¿™ä¸ªå€¼æ˜¯1ï¼Œä½†ä¸ºäº†æ»¡è¶³æ¦‚ç‡ä»‹äº1å’Œ0ä¹‹é—´ï¼Œæ‰€ä»¥æˆ‘ä»¬å°†ä»–ä»¬çš„å€¼éƒ½è®¾ç½®ä¸º$\\frac{1}{n}$ï¼Œåœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼Œè¿™ä¸ªå€¼æ˜¯0.25\nå¯¹äºä¸€ä¸ªç½‘ç«™çš„PRå€¼ï¼Œæˆ‘ä»¬ç§°ä¸º$PR()$\nå¯¹äºAèŠ‚ç‚¹ï¼ŒCèŠ‚ç‚¹å’ŒDèŠ‚ç‚¹æŒ‡å‘äº†å®ƒï¼Œæ‰€ä»¥æˆ‘ä»¬å¯ä»¥å¾—åˆ°ä¸‹é¢çš„å¼å­ï¼š\n$PR(A) = PR(C) + PR(D)$\nä½†æ˜¯ï¼ŒDä¸ä»…æŒ‡å‘äº†Aï¼Œè¿˜æŒ‡å‘äº†Cï¼Œæ‰€ä»¥ï¼ŒDç»™AæŠ•çš„ç¥¨ç›¸å½“äº$\\frac{1}{2}PR(D)$ï¼Œå› æ­¤ï¼Œåˆšæ‰çš„å¼å­åº”è¯¥æ˜¯ï¼š\n$PR(A) = PR(C) + \\frac{PR(D)}{2}$\nå¦‚æœæˆ‘ä»¬å¯¹äºå°†é¡µé¢å‘å¤–æŒ‡å‘çš„é“¾æ¥æ€»æ•°ä¸º$L()$\né‚£ä¹ˆï¼Œå¯¹äºç‚¹Aï¼Œå°±æœ‰ï¼š\n$PR(A) = \\frac{PR(C)}{L(C)} + \\frac{PR(D)}{L(D)}$\nåŒç†å¯å¾—åˆ«çš„ç‚¹çš„PRå€¼ï¼Œå¹¶ä¸”é€šè¿‡ä¸æ–­çš„é€’å½’ï¼Œè¿™ä¸ªå€¼å°†è¶‹äºç¨³å®š\nåŒæ ·å¯ä»¥é‡‡ç”¨çŸ©é˜µçš„æ–¹å¼è®¡ç®—ï¼š\n$A  = \\begin{bmatrix} 0 &amp; 0 &amp; 1 &amp; \\frac{1}{2}\\ \\frac{1}{3} &amp; 0 &amp; 0 &amp; 0\\ \\frac{1}{3} &amp; \\frac{1}{2} &amp; 0 &amp; \\frac{1}{2}\\ \\frac{1}{3} &amp; \\frac{1}{2} &amp; 0 &amp; 0\\end{bmatrix}$\nç¬¬nåˆ—è¡¨ç¤ºï¼ŒèŠ‚ç‚¹Nå‘å¤–æŒ‡å‘çš„ç‚¹\næ¯”å¦‚ï¼Œç¬¬1åˆ—ï¼Œç¬¬2 3 4è¡Œ ä¸º $\\frac{1}{3}$ï¼Œè¡¨ç¤ºAæŒ‡å‘3ä¸ªèŠ‚ç‚¹ï¼Œåˆ†åˆ«æ˜¯èŠ‚ç‚¹BCD\n$x  = \\begin{bmatrix} \\frac{1}{4}\\ \\frac{1}{4}\\ \\frac{1}{4}\\ \\frac{1}{4}\\end{bmatrix}$\næˆ‘ä»¬ä¸æ–­è®¡ç®—$x = Ax$\nå°±å¯ä»¥å¾—åˆ°ä¸€ä¸ªç¨³å®šçš„$x$çŸ©é˜µï¼Œè¿™å°±æ˜¯è¿™å››ä¸ªç½‘ç«™çš„PageRankå€¼\nä¸€ä¸ªé—®é¢˜ä¸ºäº†æ–¹ä¾¿ç†è§£ï¼Œæˆ‘ä»¬æŠŠâ€œéšæœºæµè§ˆè€…â€çš„æ¦‚å¿µç®€åŒ–ã€‚\næˆ‘ä»¬åœ¨æ—¥å¸¸ç”Ÿæ´»ä¸Šç½‘æ—¶ï¼Œä¸åªæ˜¯ä»ä¸€ä¸ªç½‘ç«™ç‚¹åˆ°å¦ä¸€ä¸ªç½‘ç«™ï¼Œè¿˜æœ‰å¯èƒ½æ˜¯é€šè¿‡ä¸Šæ–¹çš„åœ°å€æ ç›´æ¥è¾“å…¥urlï¼Œè·³è½¬åˆ°å¯¹åº”çš„ç½‘å€ï¼Œæ‰€ä»¥æˆ‘ä»¬åœ¨è®¡ç®—PageRankå€¼æ—¶ï¼Œå¼•å…¥ä¸€ä¸ªé˜»å°¼ç³»æ•°dï¼ˆdamping factorï¼‰ï¼Œæ ¹æ®ç»Ÿè®¡ï¼Œè¿™ä¸ªç›´æ¥è¾“å…¥ç½‘å€çš„æ¦‚ç‡å¤§æ¦‚å››0.85ï¼Œå…¶æ„ä¹‰æ˜¯ï¼šä»»æ„æ—¶åˆ»ï¼Œç”¨æˆ·è®¿é—®åˆ°æŸé¡µé¢åç»§ç»­è®¿é—®ä¸‹ä¸€ä¸ªé¡µé¢çš„æ¦‚ç‡ï¼Œç›¸å¯¹åº”çš„1-dåˆ™æ˜¯ç”¨æˆ·åœæ­¢ç‚¹å‡»ï¼Œéšæœºæµè§ˆæ–°ç½‘é¡µçš„æ¦‚ç‡\näºæ˜¯æˆ‘ä»¬å°±å¾—åˆ°äº†æœ€ç»ˆçš„æ±‚ä¸€ä¸ªé¡µé¢PageRankå€¼çš„å…¬å¼ï¼š\n$\\begin{equation}PR_{t+1}(P_{i}) = \\sum_{P_{j} }^{}PR_{t} \\times \\frac{P_{j} }{C(P_{j}) }\\end{equation}$\nå®ä¾‹ä¸‹é¢æ˜¯æˆ‘çˆ¬å–å­¦æ ¡ç½‘ç«™ï¼Œå¾—åˆ°æ•°æ®åï¼Œå¯¹å…¶è¿›è¡Œçš„æ’åºçš„ä¸€ä¸ªä¾‹å­\nWe noticed that the links related to BJUT were not been indexed by Baidu or Google, So we apply the PageRank algorithm to BJUTâ€™s web pages. We use MATLAB R2020b to implement this algorithm and all data is obtained using python crawler.\nCreate a directed graph with the sparse adjacency matrix G, using the urls contained in name as node names.\nG = digraph(s,t,[],name)\nG =   digraph - with properties:    Edges: [209Ã—1 table]    Nodes: [55Ã—1 table]\nWe set the damping factor 0.85, and use 200 iterations to compute the PageRank of sparse adjacency matrix G.  And add the scores and degree information into the nodes tables. \npr = centrality(G,&#x27;pagerank&#x27;,&#x27;MaxIterations&#x27;,200,&#x27;FollowProbability&#x27;,0.85);G.Nodes.PageRank = pr;G.Nodes.InDegree = indegree(G);G.Nodes.OutDegree = outdegree(G);\nPrint the top 25 scores.\nG.Nodes(1:25,:)ans = 25Ã—4 table\n\n\n\n\nName\nPageRank\nInDegree\nOutDegree\n\n\n\n1\nâ€˜http://www.bjut.edu.cn/&#39;\n0.0552\n20\n13\n\n\n2\nâ€˜http://news.bjut.edu.cn/&#39;\n0.0185\n7\n4\n\n\n3\nâ€˜https://app.bjut.edu.cn/&#39;\n0.0110\n2\n2\n\n\n4\nâ€˜http://60.bjut.edu.cn/&#39;\n0.0455\n3\n1\n\n\n5\nâ€˜http://portal2nd.bjut.edu.cn/&#39;\n0.0067\n4\n40\n\n\n6\nâ€˜http://eol2018.bjut.edu.cn/&#39;\n0.0110\n2\n2\n\n\n7\nâ€˜http://lib.bjut.edu.cn/&#39;\n0.0191\n6\n2\n\n\n8\nâ€˜http://iptv.bjut.edu.cn/&#39;\n0.0422\n2\n1\n\n\n9\nâ€˜http://gdjwgl.bjut.edu.cn/&#39;\n0.0505\n3\n1\n\n\n10\nâ€˜http://xgxt.bjut.edu.cn/&#39;\n0.0422\n2\n1\n\n\n11\nâ€˜https://cwc.bjut.edu.cn/&#39;\n0.0112\n3\n2\n\n\n12\nâ€˜http://bjutcie.bjut.edu.cn&#39;\n0.0089\n2\n3\n\n\n13\nâ€˜http://facte.bjut.edu.cn/&#39;\n0.0081\n2\n4\n\n\n14\nâ€˜http://my.bjut.edu.cn/&#39;\n0.0929\n4\n1\n\n\nExtract and draw a subgraph that contains all nodes with a score greater than 0.005. Color the graph nodes according to their PageRank score.\nH = subgraph(G,find(G.Nodes.PageRank &gt; 0.005));plot(H,&#x27;NodeLabel&#x27;,&#123;&#125;,&#x27;NodeCData&#x27;,H.Nodes.PageRank,&#x27;Layout&#x27;,&#x27;force&#x27;);title(&#x27;Websites linked to https://www.bjut.edu.cn&#x27;)colorbar\n\n","tags":["algorithm"]},{"title":"å¹¶æŸ¥é›†æ¿å­é¢˜å’Œkuangbinçš„ä¸“é¢˜äº”","url":"/2021/02/01/bing-cha-ji/","content":"HDU 1213 How Many Tablesé¢˜ç›®é“¾æ¥\né¢˜ç›®å¤§æ„ç»™å®šnä¸ªäººï¼Œå’Œmæ¡å…³ç³»ï¼Œéœ€è¦æŠŠæœ‰å…³ç³»çš„äººåˆ†é…åˆ°åŒä¸€ä¸ªæ¡Œå­ä¸Šï¼Œè€Œæ²¡æœ‰å…³ç³»çš„äººä¸å–œæ¬¢ååœ¨åŒä¸€ä¸ªæ¡Œå­ä¸Šï¼Œéœ€è¦çŸ¥é“å‡†å¤‡å‡ ä¸ªæ¡Œå­\næ€è·¯ä¸€é“å¹¶æŸ¥é›†æ¿å­å…¥é—¨é¢˜ï¼Œåªéœ€è¦ç»Ÿè®¡s[i] == içš„ä¸ªæ•°å³å¯çŸ¥é“éœ€è¦åˆ†é…å‡ ä¸ªæ¡Œå­\næºç #include &lt;iostream&gt;#include &lt;cstdio&gt;#include &lt;cstring&gt;#define ll long longusing namespace std;const int INF = 0x3f3f3f3f;const int maxn = 1005;int s[maxn],height[maxn];void init_set()&#123; // åˆå§‹åŒ–å¹¶æŸ¥é›†    for(int i=1;i&lt;=maxn;++i)&#123;        s[i] = i;        height[i] = 0;    &#125;&#125;int find_set(int x)&#123; // è·¯å¾„å‹ç¼©çš„æŸ¥è¯¢    if(x != s[x]) s[x] = find_set(s[x]);    return s[x];&#125;void union_set(int x,int y)&#123; // æ ¹æ®æ ‘é«˜åº¦è¿›è¡Œåˆå¹¶    x = find_set(x); y = find_set(y);    if(height[x] == height[y])&#123;        height[x] += 1;        s[y] = x;    &#125;    else if(height[x]&gt;height[y])        s[y] = x;    else        s[x] = y;&#125;int main()&#123;    int T; cin &gt;&gt; T;    while(T--)&#123;        int ans = 0;        init_set();        int n,m; cin &gt;&gt; n &gt;&gt; m;        for(int i=1;i&lt;=m;++i)&#123;            int x[2];            cin &gt;&gt; x[0] &gt;&gt; x[1];            union_set(x[0],x[1]);        &#125;        for(int i=1;i&lt;=n;++i)&#123;            if(s[i] == i)                 ans++;        &#125;        cout &lt;&lt; ans &lt;&lt; endl;    &#125;    return 0;&#125;\nHDU 1272 å°å¸Œçš„è¿·å®«é¢˜ç›®é“¾æ¥\né¢˜ç›®å¤§æ„ç»™å®šä¸€äº›è¾¹ç»„æˆä¸€ä¸ªæ— å‘å›¾ï¼Œè¦æ±‚ä»»æ„ä¸¤ä¸ªç‚¹æœ‰ä¸”ä»…æœ‰ä¸€æ¡è·¯å¾„å¯ä»¥ç›¸é€š\næ€è·¯ä½¿ç”¨å¹¶æŸ¥é›†æ¥å°†è¿™äº›è¾¹åŠ å…¥è¿›å»ï¼Œå¦‚æœåœ¨åŠ å…¥æ—¶å‘ç°è¿™ä¸ªç‚¹å·²ç»åŠ å…¥è¿‡äº†ï¼Œå³s[x] =  s[y]å°±è®¤ä¸ºè¿™ä¸ªè¿·å®«æ˜¯ä¸åˆæ³•çš„ï¼Œè¿™ä¸ªé¢˜è¦æ³¨æ„è¦æ±‚æ˜¯â€œæœ‰ä¸”ä»…æœ‰ä¸€æ¡â€ï¼Œå¦‚æœæœ€åå‡ºç°äº†ä¸¤ä¸ªé›†åˆåŒæ ·ä¹Ÿä¸æ»¡è¶³è¿™ä¸€ä¸ªè¦æ±‚ï¼Œæ•°æ®æœ‰äº›å‘ï¼Œå¦‚æœåªè¾“å…¥0 0ä¹Ÿè¦è¾“å‡ºYes\næºç #include &lt;iostream&gt;#include &lt;cstdio&gt;#include &lt;cstring&gt;#define ll long longusing namespace std;const int INF = 0x3f3f3f3f;const int maxn = 100005;int s[maxn],height[maxn],Flag[maxn];void init_set()&#123;    for(int i=1;i&lt;=maxn;++i)&#123;        s[i] = i;        height[i] = 0;        Flag[i] = 0;    &#125;&#125;int find_set(int x)&#123;    if(x != s[x]) s[x] = find_set(s[x]);    return s[x];&#125;void union_set(int x,int y)&#123;    x = find_set(x); y = find_set(y);    if(height[x] == height[y])&#123;        height[x] += 1;        s[y] = x;    &#125;    else if(height[x]&gt;height[y])        s[y] = x;    else        s[x] = y;&#125;int main()&#123;    int a,b;    while(~scanf(&quot;%d%d&quot;,&amp;a,&amp;b))&#123;        if(a == -1 || b == -1) break;        init_set();        int flag = 0;        while(1)&#123;            if(a == 0 || b == 0) break;            if(find_set(a) == find_set(b))&#123; // å¦‚æœç›¸ç­‰æ„å‘³ç€è¿™æ¡è¾¹å·²ç»å­˜åœ¨äº†ï¼Œä¸æ»¡è¶³â€œåªæœ‰ä¸€æ¡â€                flag = 1; // ä¸èƒ½ç›´æ¥breakï¼Œè¿˜æœ‰æ•°æ®æ²¡è¯»è¿›æ¥            &#125;            union_set(a,b);            Flag[a] =Flag[b] = 1; // è¡¨ç¤ºè¿™ä¸ªæ•°å‡ºç°è¿‡ï¼Œå› ä¸ºæ•°æ®å¹¶ä¸ä¿è¯1~Néƒ½ä¼šå‡ºç°            scanf(&quot;%d%d&quot;,&amp;a,&amp;b);        &#125;        if(flag == 1)cout &lt;&lt; &quot;No&quot; &lt;&lt; endl;        else&#123;            flag = 0;            for(int i=0;i&lt;=maxn;++i)                if(Flag[i]&amp;&amp;s[i] == i) flag++; // åªèƒ½æœ‰ä¸€ä¸ªç‚¹åŒæ—¶æ»¡è¶³å‡ºç°è¿‡ï¼Œå¹¶ä¸”è¿˜æ˜¯ä¸€ä¸ªç‹¬ç«‹çš„é›†åˆçš„æ¡ä»¶            if(flag &gt; 1)cout &lt;&lt; &quot;No&quot; &lt;&lt; endl;            else cout &lt;&lt; &quot;Yes&quot; &lt;&lt; endl;        &#125;    &#125;    return 0;&#125;\nPOJ 1611 The Suspectsé¢˜ç›®é“¾æ¥\né¢˜ç›®å¤§æ„å…±æœ‰0~n-1ä¸ªå­¦ç”Ÿï¼Œåˆ†æˆäº†mä¸ªç»„ï¼Œä¸€ä¸ªåŒå­¦å¯ä»¥åŠ å…¥ä¸åŒçš„ç»„ï¼Œè§„å®š0å·ä¸ºæ„ŸæŸ“è€…ï¼Œä¸æ„ŸæŸ“è€…æ˜¯å¯†æ¥çš„äººæœ‰å¤šå°‘\næ€è·¯åªéœ€è¦æŠŠè¿™äº›ç»„åŠ å…¥åˆ°å¹¶æŸ¥é›†ä¹‹ä¸­ï¼Œç„¶åæŸ¥æ‰¾æœ‰å¤šå°‘ä¸ªäººå’Œ0å·æ˜¯åŒä¸€ç»„çš„\n#include &lt;iostream&gt;#include &lt;cstdio&gt;#include &lt;cstring&gt;#define ll long longusing namespace std;const int INF = 0x3f3f3f3f;const int maxn = 30005;int s[maxn],height[maxn];void init_set(int tot)&#123; // åˆå§‹åŒ–å¹¶æŸ¥é›†    for(int i=0;i&lt;=tot;++i)&#123;        s[i] = i;        height[i] = 0;    &#125;&#125;int find_set(int x)&#123; // è·¯å¾„å‹ç¼©çš„æŸ¥è¯¢    if(x != s[x]) s[x] = find_set(s[x]);    return s[x];&#125;void union_set(int x,int y)&#123; // æ ¹æ®æ ‘é«˜åº¦è¿›è¡Œåˆå¹¶    x = find_set(x); y = find_set(y);    if(height[x] == height[y])&#123;        height[x] += 1;        s[y] = x;    &#125;    else if(height[x]&gt;height[y])        s[y] = x;    else        s[x] = y;&#125;int main()&#123;    while(1)&#123;        int n,m;        cin &gt;&gt; n &gt;&gt; m;        if(n == 0 &amp;&amp; m == 0) break;        init_set(n);        while(m--)&#123;            int num;            cin &gt;&gt; num;            int pre_peo;            for(int i=1;i&lt;=num;++i)&#123;                int now_peo;                cin &gt;&gt; now_peo;                if(i == 1) // ç¬¬ä¸€ä¸ªäººæ²¡æœ‰å‰ç½®ï¼Œæ‰€ä»¥å°±å®‰æ’ä»–è‡ªå·±                    pre_peo = now_peo;                union_set(pre_peo,now_peo);                pre_peo = now_peo;            &#125;        &#125;        int res = 1; // 0è‡ªå·±ä¹Ÿç®—åœ¨å…¶ä¸­ï¼Œæ‰€ä»¥ä»1å¼€å§‹è®¡æ•°        int suspect = find_set(0);        for(int i=1;i&lt;n;++i)&#123;            if(find_set(i) == suspect)res++;         &#125;        cout &lt;&lt; res &lt;&lt; endl;    &#125;    return 0;&#125;\n\n\n","tags":["xcpc"]}]